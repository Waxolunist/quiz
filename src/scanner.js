define(["../node_modules/@polymer/polymer/polymer-element.js","./shared-styles.js","./view-element.js","../node_modules/qr-scanner/src/qr-scanner.js"],function(_polymerElement,_sharedStyles,_viewElement,_qrScanner){"use strict";_qrScanner=babelHelpers.interopRequireDefault(_qrScanner);function _templateObject_f328c0c0972111e99e121559d6999ace(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style include=\"shared-styles\">\n        :host {\n          display: block;\n        }\n\n        #qrscanner {\n          width: 100%;\n        }\n      </style>\n\n      <div class=\"card\">\n        <h1>Scan your code</h1>\n        <video id=\"qrscanner\"></video>\n      </div>\n    "]);_templateObject_f328c0c0972111e99e121559d6999ace=function _templateObject_f328c0c0972111e99e121559d6999ace(){return data};return data}var ScannerView=/*#__PURE__*/function(_QuestionViewElement){babelHelpers.inherits(ScannerView,_QuestionViewElement);function ScannerView(){babelHelpers.classCallCheck(this,ScannerView);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ScannerView).apply(this,arguments))}babelHelpers.createClass(ScannerView,[{key:"ready",value:function ready(){var _this=this;babelHelpers.get(babelHelpers.getPrototypeOf(ScannerView.prototype),"ready",this).call(this);var videoElem=this.shadowRoot.getElementById("qrscanner");_qrScanner.default.WORKER_PATH="".concat(this.rootPath,"node_modules/qr-scanner/qr-scanner-worker.min.js");setTimeout(function(e){return _this._playsound("gameshow")},0);setTimeout(function(e){_this._qrScanner=new _qrScanner.default(videoElem,function(result){return _this._onScanInput(result)});_this._qrScanner.start()},100)}},{key:"detached",value:function detached(){this._qrScanner.destroy();this._qrScanner=null}},{key:"_onScanInput",value:function _onScanInput(result){var _this2=this;console.log("decoded qr code:",result);if(result){var split=result.split("-");if(2===split.length&&"q"===split[0]&&Number.isInteger(parseInt(split[1]))){this._playsound("ding",function(e){return _this2._changePath("question/"+split[1])})}}}}],[{key:"template",get:function get(){return(0,_polymerElement.html)(_templateObject_f328c0c0972111e99e121559d6999ace())}}]);return ScannerView}(_viewElement.QuestionViewElement);window.customElements.define("scanner-view",ScannerView)});